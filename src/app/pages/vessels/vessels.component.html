<div id="vessels-content" class="tab-content">
  <h2 class="text-2xl font-bold text-gray-800 mb-4">Vessels List</h2>
  <div class="mb-4 flex flex-wrap items-center gap-2">
    <button id="add-vessel-btn" (click)="OpenAddForm()"
      class="bg-blue-600 text-white px-4 py-2 rounded-lg shadow hover:bg-blue-700 flex items-center gap-2">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
        <path fill-rule="evenodd"
          d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z" clip-rule="evenodd">
        </path>
      </svg>
      Add Vessel
    </button>
    <button id="display-vessel-cols-btn" (click)="DisplayRow()"
      class="bg-white text-gray-700 px-4 py-2 rounded-lg shadow border border-gray-300 hover:bg-gray-50 flex items-center gap-2">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
          d="M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V7a2 2 0 012-2h10a2 2 0 012 2v8a2 2 0 01-2 2z"></path>
      </svg>
      Display Columns
    </button>
  </div>
  <div class="bg-white rounded-lg shadow overflow-x-auto">
    <table class="w-full whitespace-nowrap">
      <thead class="bg-gray-50 border-b border-gray-200">
        <tr >
          <th *ngIf="visibleColumnKeys.includes('no')"
            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">No.</th>
          <th *ngIf="visibleColumnKeys.includes('name')"
            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Name</th>
          <th *ngIf="visibleColumnKeys.includes('imo')"
            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">IMO</th>
          <th *ngIf="visibleColumnKeys.includes('year')"
            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Year</th>
          <th *ngIf="visibleColumnKeys.includes('type')"
            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Type</th>
          <th *ngIf="visibleColumnKeys.includes('flag')"
            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Flag</th>
          <th *ngIf="visibleColumnKeys.includes('crew')"
            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Crew</th>
          <th *ngIf="visibleColumnKeys.includes('engineType')"
            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Engine Type</th>
          <th *ngIf="visibleColumnKeys.includes('engineModel')"
            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Engine Model</th>
          <th *ngIf="visibleColumnKeys.includes('owner')"
            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Owner</th>
          <th *ngIf="visibleColumnKeys.includes('dwt')"
            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">DWT</th>
          <th *ngIf="visibleColumnKeys.includes('teu')"
            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">TEU</th>
          <th *ngIf="visibleColumnKeys.includes('phone')"
            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Phone</th>
          <th *ngIf="visibleColumnKeys.includes('email')"
            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">E-mail</th>
          <th *ngIf="visibleColumnKeys.includes('actions')"
            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>

        </tr>

      </thead>
      <tbody class="divide-y divide-gray-200">

        <tr *ngFor="let s of vessels()">
          <td *ngIf="visibleColumnKeys.includes('no')" class="px-6 py-4 text-sm text-gray-700">{{ s.no }}</td>
          <td *ngIf="visibleColumnKeys.includes('name')" class="px-6 py-4 text-sm text-gray-700">{{ s.name }}</td>
          <td *ngIf="visibleColumnKeys.includes('imo')" class="px-6 py-4 text-sm text-gray-700">{{ s.imo }}</td>
          <td *ngIf="visibleColumnKeys.includes('year')" class="px-6 py-4 text-sm text-gray-700">{{ s.year }}</td>
          <td *ngIf="visibleColumnKeys.includes('type')" class="px-6 py-4 text-sm text-gray-700">{{ s.type }}</td>
          <td *ngIf="visibleColumnKeys.includes('flag')" class="px-6 py-4 text-sm text-gray-700">{{ s.flag }}</td>
          <td *ngIf="visibleColumnKeys.includes('crew')" class="px-6 py-4 text-sm text-gray-700">{{ s.crew }}</td>
          <td *ngIf="visibleColumnKeys.includes('engineType')" class="px-6 py-4 text-sm text-gray-700">
            {{ s.engineType }}</td>
          <td *ngIf="visibleColumnKeys.includes('engineModel')" class="px-6 py-4 text-sm text-gray-700">
            {{ s.engineModel }}</td>
          <td *ngIf="visibleColumnKeys.includes('owner')" class="px-6 py-4 text-sm text-gray-700">{{ s.owner }}</td>
          <td *ngIf="visibleColumnKeys.includes('dwt')" class="px-6 py-4 text-sm text-gray-700">{{ s.dwt }}</td>
          <td *ngIf="visibleColumnKeys.includes('teu')" class="px-6 py-4 text-sm text-gray-700">{{ s.teu }}</td>
          <td *ngIf="visibleColumnKeys.includes('phone')" class="px-6 py-4 text-sm text-gray-700">{{ s.phone }}</td>
          <td *ngIf="visibleColumnKeys.includes('email')" class="px-6 py-4 text-sm text-gray-700">
            <a href="mailto:{{ s.email }}" class="text-blue-600 hover:underline">{{ s.email }}</a>
          </td>
          <td class="px-6 py-4 text-sm text-gray-700">
            <div class="flex items-center gap-2">
              <button class="text-blue-600 hover:text-blue-900" title="Edit">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                  <path d="M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"></path>
                  <path fill-rule="evenodd"
                    d="M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"
                    clip-rule="evenodd"></path>
                </svg>
              </button>
              <button class="text-red-600 hover:text-red-900" title="Delete">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                  <path fill-rule="evenodd"
                    d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z"
                    clip-rule="evenodd"></path>
                </svg>
              </button>
            </div>
          </td>
        </tr>

      </tbody>
    </table>
  </div>
</div>


<!-- addform -->
<app-Modal *ngIf="isAddFormOpen" title="Add Vessel">
  <app-add-vessel (closeForm)="isAddFormOpen = false"></app-add-vessel>
</app-Modal>


<!-- add-display-row -->
<app-column-panel *ngIf="isDisplayRow" [columns]="columns" (selectionChange)="onColumnPanelChange($event)"
  (close)="isDisplayRow = false">
</app-column-panel>
